{% extends 'cricket/base.html' %}
{% load static %}

{% block title %}All Matches - Cricket Score System{% endblock %}

{% block content %}
<section class="py-8">
    <h1 class="text-3xl font-bold text-center text-gray-900 mb-6">
        <i class="fas fa-calendar-alt mr-2 text-blue-600"></i>
        All Matches
    </h1>

    <div class="container max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% if all_cricket_matches %}
            {% for match in all_cricket_matches %}
            <div class="bg-white rounded-lg shadow-md p-6 flex flex-col items-center text-center transition-transform transform hover:scale-105 hover:shadow-xl">
                <a href="{% url 'match_detail' match.id %}" class="block w-full">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">{{ match.name|default:'' }}</h3>
                    <p class="text-lg text-gray-700 mb-2">{{ match.team1.name }} <span class="font-bold text-blue-600">vs</span> {{ match.team2.name }}</p>
                    <p class="text-sm text-gray-600"><i class="fas fa-calendar-alt mr-1"></i> {{ match.date|date:"M d, Y P" }}</p>
                    <p class="text-sm text-gray-600"><i class="fas fa-map-marker-alt mr-1"></i> {{ match.venue }}</p>
                    <p class="mt-3 text-base font-semibold {% if match.status == 'Completed' and match.winner %}text-green-600{% elif match.status == 'Live' %}text-red-500{% elif match.status == 'Upcoming' %}text-blue-500{% else %}text-gray-600{% endif %}">
                        {% if match.status == 'Completed' %}
                            {% if match.winner %}
                                <i class="fas fa-trophy mr-1"></i> {{ match.winner.name }} won!
                            {% else %}
                                Result: {{ match.result|default:'N/A' }}
                            {% endif %}
                        {% else %}
                            Status: {{ match.status }}
                        {% endif %}
                    </p>
                </a>
            </div>
            {% endfor %}
        {% else %}
            <div class="col-span-full text-center py-8 bg-white rounded-lg shadow-md">
                <p class="text-gray-600 text-lg">No matches found.</p>
                <i class="fas fa-frown text-gray-400 mt-4 text-5xl"></i>
            </div>
        {% endif %}
    </div>
</section>
{% endblock %}

{% block extra_css %}
{# Ensure Font Awesome is loaded for icons #}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" xintegrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0k4ApnW/rs0gX53C8Ie0T3Q2N5tKkY9hJ2u7w6/7k7Q4q+3wJ6b/4yF7zA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}
